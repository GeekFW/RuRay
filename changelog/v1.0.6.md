# RuRay v1.0.6 æ›´æ–°æ—¥å¿—

## ğŸš€ æ–°åŠŸèƒ½

### æ—¥å¿—ç®¡ç†ç³»ç»Ÿ
- **æ—¥å¿—è®¾ç½®ç•Œé¢**: æ–°å¢ä¸“é—¨çš„æ—¥å¿—è®¾ç½®Tabé¡µé¢ï¼Œæä¾›å®Œæ•´çš„æ—¥å¿—ç®¡ç†åŠŸèƒ½
  - æ˜¾ç¤ºæ—¥å¿—æ–‡ä»¶è·¯å¾„ã€å¤§å°å’Œæ¡ç›®æ•°é‡ç­‰è¯¦ç»†ä¿¡æ¯
  - æ”¯æŒä¸€é”®æµè§ˆæ—¥å¿—æ–‡ä»¶æ‰€åœ¨ç›®å½•
  - æä¾›æ—¥å¿—æ–‡ä»¶æ¸…ç†åŠŸèƒ½ï¼Œæ”¯æŒå®‰å…¨åˆ é™¤å’Œé‡æ–°åˆ›å»º
  - é›†æˆæ—¥å¿—å¯¼å‡ºåŠŸèƒ½ï¼Œæ”¯æŒä¿å­˜åˆ°æŒ‡å®šä½ç½®

- **åç«¯æ—¥å¿—å‘½ä»¤**: æ–°å¢å¤šä¸ªTauriå‘½ä»¤æ¥å£æ”¯æŒæ—¥å¿—ç®¡ç†
  - `get_log_info`: è·å–æ—¥å¿—æ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯ï¼ˆè·¯å¾„ã€å¤§å°ã€æ¡ç›®æ•°ï¼‰
  - `clear_log_file`: å®‰å…¨æ¸…ç†æ—¥å¿—æ–‡ä»¶å¹¶é‡æ–°åˆå§‹åŒ–
  - `open_log_directory`: åœ¨æ–‡ä»¶ç®¡ç†å™¨ä¸­æ‰“å¼€æ—¥å¿—ç›®å½•

### ç½‘ç»œç›‘æ§ä¼˜åŒ–
- **ç›‘æ§é¢‘ç‡æå‡**: å°†ç½‘ç»œç»Ÿè®¡ç›‘æ§é—´éš”ä»2ç§’ä¼˜åŒ–ä¸º1ç§’
  - æä¾›æ›´å®æ—¶çš„ç½‘é€Ÿå’Œæµé‡æ•°æ®æ›´æ–°
  - æ”¹å–„ç”¨æˆ·ä½“éªŒï¼Œç½‘ç»œçŠ¶æ€å˜åŒ–å“åº”æ›´è¿…é€Ÿ
  - ä¼˜åŒ–çŠ¶æ€æ ä¸­ç½‘ç»œç»Ÿè®¡ä¿¡æ¯çš„æ˜¾ç¤ºé¢‘ç‡

## ğŸ¨ UI/UX æ”¹è¿›

### ä¸»é¢˜è‰²ç³»ç»Ÿå®Œå–„
- **æŒ‰é’®ä¸»é¢˜è‰²ä¿®å¤**: ä¿®å¤äº†å¤šä¸ªç»„ä»¶ä¸­æŒ‰é’®é¢œè‰²ç¡¬ç¼–ç çš„é—®é¢˜
  - `AppHeader.vue`: ä¿®å¤è®¾ç½®å¯¹è¯æ¡†ä¸­çš„æŒ‰é’®ä¸»é¢˜è‰²
  - `LogSettings.vue`: ç»Ÿä¸€æ—¥å¿—è®¾ç½®é¡µé¢çš„æŒ‰é’®é¢œè‰²
  - `TunConfig.vue`: ä¿®å¤TUNé…ç½®é¡µé¢çš„æŒ‰é’®ä¸»é¢˜è‰²
  - `ServerList.vue`: ç»Ÿä¸€æœåŠ¡å™¨åˆ—è¡¨é¡µé¢çš„æŒ‰é’®é¢œè‰²
  - `MinimalMode.vue`: ä¿®å¤æç®€æ¨¡å¼ä¸­çš„æŒ‰é’®ä¸»é¢˜è‰²
  - `LogViewer.vue`: ç»Ÿä¸€æ—¥å¿—æŸ¥çœ‹å™¨çš„æŒ‰é’®é¢œè‰²

- **åŠ¨æ€ä¸»é¢˜è‰²ç»‘å®š**: æ‰€æœ‰æŒ‰é’®ç°åœ¨éƒ½èƒ½æ­£ç¡®å“åº”ç”¨æˆ·é€‰æ‹©çš„ä¸»é¢˜è‰²
  - é€šè¿‡`useAppConfig()`è·å–åº”ç”¨é…ç½®
  - ä½¿ç”¨`selectedThemeColor`è®¡ç®—å±æ€§åŠ¨æ€ç»‘å®šæŒ‰é’®é¢œè‰²
  - ä¿ç•™ç‰¹æ®Šè¯­ä¹‰é¢œè‰²ï¼ˆå¦‚åˆ é™¤æŒ‰é’®çš„çº¢è‰²ï¼‰

### ç”¨æˆ·ç•Œé¢ä¼˜åŒ–
- **è®¾ç½®é¡µé¢æ‰©å±•**: åœ¨è®¾ç½®å¯¹è¯æ¡†ä¸­æ–°å¢"æ—¥å¿—è®¾ç½®"Tab
  - æä¾›ç›´è§‚çš„æ—¥å¿—æ–‡ä»¶ç®¡ç†ç•Œé¢
  - æ”¯æŒå®æ—¶æ˜¾ç¤ºæ—¥å¿—ç»Ÿè®¡ä¿¡æ¯
  - é›†æˆæ—¥å¿—æ¸…ç†å’Œå¯¼å‡ºåŠŸèƒ½

## ğŸ”§ æŠ€æœ¯æ”¹è¿›

### åç«¯æ¶æ„å¢å¼º
- **æ—¥å¿—ç®¡ç†æ¨¡å—**: åœ¨`commands.rs`ä¸­æ–°å¢æ—¥å¿—ç®¡ç†ç›¸å…³å‘½ä»¤
  - å®ç°æ–‡ä»¶ç³»ç»Ÿæ“ä½œçš„å®‰å…¨å°è£…
  - æ·»åŠ é”™è¯¯å¤„ç†å’ŒçŠ¶æ€åé¦ˆæœºåˆ¶
  - æ”¯æŒè·¨å¹³å°çš„æ–‡ä»¶æ“ä½œ

- **ç½‘ç»œç›‘æ§ä¼˜åŒ–**: æ”¹è¿›ç½‘ç»œç»Ÿè®¡çš„æ—¶é—´ç²¾åº¦
  - ä¿®æ”¹`network.rs`ä¸­çš„å®šæ—¶å™¨é—´éš”è®¾ç½®
  - ä¼˜åŒ–ç½‘ç»œæ•°æ®é‡‡é›†çš„é¢‘ç‡å’Œå‡†ç¡®æ€§
  - æå‡é•¿æœŸè¿è¡Œæ—¶çš„æ€§èƒ½ç¨³å®šæ€§

### å‰ç«¯ç»„ä»¶é‡æ„
- **ä¸»é¢˜è‰²ç®¡ç†**: ç»Ÿä¸€æ‰€æœ‰ç»„ä»¶çš„ä¸»é¢˜è‰²è·å–æ–¹å¼
  - åœ¨æ¯ä¸ªç»„ä»¶ä¸­æ·»åŠ `useAppConfig()`è°ƒç”¨
  - å®ç°`selectedThemeColor`è®¡ç®—å±æ€§
  - ç¡®ä¿ä¸»é¢˜è‰²å˜æ›´çš„å®æ—¶å“åº”

- **ç»„ä»¶ä¸€è‡´æ€§**: æå‡UIç»„ä»¶çš„è§†è§‰ä¸€è‡´æ€§
  - ç»Ÿä¸€æŒ‰é’®æ ·å¼å’Œé¢œè‰²è§„èŒƒ
  - ä¼˜åŒ–ç»„ä»¶é—´çš„äº¤äº’ä½“éªŒ
  - æ”¹å–„æ•´ä½“ç•Œé¢çš„åè°ƒæ€§

## ğŸ“ æ–‡ä»¶å˜æ›´

### æ–°å¢çš„æ–‡ä»¶
- `components/LogSettings.vue`: æ—¥å¿—è®¾ç½®ç®¡ç†ç»„ä»¶
  - æ—¥å¿—æ–‡ä»¶ä¿¡æ¯æ˜¾ç¤º
  - æ—¥å¿—æ¸…ç†å’Œå¯¼å‡ºåŠŸèƒ½
  - å®æ—¶ç»Ÿè®¡ä¿¡æ¯æ›´æ–°

### ä¿®æ”¹çš„æ–‡ä»¶
- `src-tauri/src/commands.rs`: æ–°å¢æ—¥å¿—ç®¡ç†å‘½ä»¤æ¥å£
  - `get_log_info`ã€`clear_log_file`ç­‰å‘½ä»¤å®ç°
  - æ–‡ä»¶æ“ä½œçš„å®‰å…¨æ€§å¢å¼º

- `src-tauri/src/network.rs`: ç½‘ç»œç›‘æ§æ—¶é—´é—´éš”ä¼˜åŒ–
  - å°†ç›‘æ§é—´éš”ä»2ç§’è°ƒæ•´ä¸º1ç§’
  - æ›´æ–°ç›¸å…³æ—¥å¿—ä¿¡æ¯å’Œæ³¨é‡Š

- `components/AppHeader.vue`: ä¸»é¢˜è‰²ä¿®å¤å’Œæ—¥å¿—è®¾ç½®Tabé›†æˆ
  - æ·»åŠ æ—¥å¿—è®¾ç½®Tabé¡µé¢
  - ä¿®å¤æŒ‰é’®ä¸»é¢˜è‰²ç»‘å®š
  - é›†æˆLogSettingsç»„ä»¶

- `components/LogSettings.vue`: å®Œæ•´çš„æ—¥å¿—ç®¡ç†ç•Œé¢å®ç°
- `components/TunConfig.vue`: æŒ‰é’®ä¸»é¢˜è‰²åŠ¨æ€ç»‘å®š
- `components/ServerList.vue`: ç»Ÿä¸€æŒ‰é’®é¢œè‰²ä¸»é¢˜
- `components/MinimalMode.vue`: ä¿®å¤æç®€æ¨¡å¼æŒ‰é’®ä¸»é¢˜è‰²
- `components/LogViewer.vue`: æ—¥å¿—æŸ¥çœ‹å™¨æŒ‰é’®ä¸»é¢˜è‰²ç»Ÿä¸€

## ğŸ¯ ç”¨æˆ·ä½“éªŒ

### æ—¥å¿—ç®¡ç†ä½“éªŒ
- ç”¨æˆ·å¯ä»¥æ–¹ä¾¿åœ°æŸ¥çœ‹å’Œç®¡ç†åº”ç”¨æ—¥å¿—æ–‡ä»¶
- æä¾›ç›´è§‚çš„æ—¥å¿—ç»Ÿè®¡ä¿¡æ¯å’Œæ–‡ä»¶å¤§å°æ˜¾ç¤º
- æ”¯æŒä¸€é”®æ¸…ç†å’Œå¯¼å‡ºï¼Œç®€åŒ–æ—¥å¿—ç»´æŠ¤æ“ä½œ
- é›†æˆæ–‡ä»¶æµè§ˆåŠŸèƒ½ï¼Œå¿«é€Ÿå®šä½æ—¥å¿—æ–‡ä»¶

### ç•Œé¢ä¸€è‡´æ€§æå‡
- æ‰€æœ‰æŒ‰é’®ç°åœ¨éƒ½éµå¾ªç”¨æˆ·é€‰æ‹©çš„ä¸»é¢˜è‰²
- æä¾›æ›´åŠ ç»Ÿä¸€å’Œåè°ƒçš„è§†è§‰ä½“éªŒ
- ä¸»é¢˜è‰²å˜æ›´èƒ½å¤Ÿå®æ—¶åæ˜ åœ¨æ‰€æœ‰ç•Œé¢å…ƒç´ ä¸Š

### æ€§èƒ½ä¼˜åŒ–ä½“éªŒ
- ç½‘ç»œç›‘æ§æ•°æ®æ›´æ–°æ›´åŠ é¢‘ç¹å’Œå‡†ç¡®
- çŠ¶æ€æ ä¿¡æ¯æ˜¾ç¤ºæ›´åŠ å®æ—¶
- æ•´ä½“åº”ç”¨å“åº”æ€§å¾—åˆ°æå‡

## ğŸ“‹ æŠ€æœ¯ç»†èŠ‚

### æ—¥å¿—ç®¡ç†å®ç°
```rust
// æ—¥å¿—ä¿¡æ¯è·å–å‘½ä»¤
#[tauri::command]
pub async fn get_log_info() -> Result<LogInfo, String> {
    // è·å–æ—¥å¿—æ–‡ä»¶è·¯å¾„ã€å¤§å°ã€æ¡ç›®æ•°ç­‰ä¿¡æ¯
}

// æ—¥å¿—æ–‡ä»¶æ¸…ç†å‘½ä»¤
#[tauri::command]
pub async fn clear_log_file() -> Result<(), String> {
    // å®‰å…¨åˆ é™¤å¹¶é‡æ–°åˆ›å»ºæ—¥å¿—æ–‡ä»¶
}
```

### ä¸»é¢˜è‰²ç»‘å®šæ¨¡å¼
```vue
<script setup>
// è·å–åº”ç”¨é…ç½®
const appConfig = useAppConfig()
const selectedThemeColor = computed(() => appConfig.ui?.primary || 'green')
</script>

<template>
  <UButton :color="selectedThemeColor">
    åŠ¨æ€ä¸»é¢˜è‰²æŒ‰é’®
  </UButton>
</template>
```

### ç½‘ç»œç›‘æ§ä¼˜åŒ–
```rust
// ä»2ç§’é—´éš”ä¼˜åŒ–ä¸º1ç§’é—´éš”
std::thread::sleep(Duration::from_secs(1));
```